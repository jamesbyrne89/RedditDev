{"version":3,"file":"static/webpack/static\\development\\pages\\register.js.ff1fe0ff2245b2869d6c.hot-update.js","sources":["webpack:///./pages/register.tsx"],"sourcesContent":["import { Fragment, useState } from 'react';\r\nimport Router from 'next/router';\r\nimport db, { auth } from '../db/firestore';\r\nimport { LogoStyles } from '../components/styles/HeaderStyles';\r\nimport {\r\n  FormStyles,\r\n  FormSubmitButtonStyles,\r\n  ErrorMessageStyles\r\n} from '../components/styles/FormStyles';\r\nimport Input from '../components/Input';\r\n\r\nconst redirectToHome = () => {\r\n  Router.push('/');\r\n};\r\n\r\nconst Register = () => {\r\n  const [userInput, setUserInput] = useState({\r\n    user: '',\r\n    password: '',\r\n    password2: ''\r\n  });\r\n\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  const createNewUser = e => {\r\n    if (\r\n      !userInput.password.length > 5 &&\r\n      userInput.password === userInput.password2\r\n    ) {\r\n      throw new Error('Passwords do not match');\r\n    }\r\n    e.preventDefault();\r\n    auth\r\n      .createUserWithEmailAndPassword(userInput.user, userInput.password)\r\n      .then(cred => {\r\n        db.collection('users').doc(cred.user.uid);\r\n        redirectToHome();\r\n      })\r\n      .catch(error => {\r\n        // Handle Errors here.\r\n        const { code, message } = error;\r\n        console.log(message);\r\n        setErrorMessage(message);\r\n        // ...\r\n      });\r\n  };\r\n\r\n  const onInputChange = e => {\r\n    setUserInput({ ...userInput, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <LogoStyles fontSize=\"1.5rem\">redditDev.</LogoStyles>\r\n      <div>\r\n        <FormStyles onSubmit={createNewUser}>\r\n          <h2>Register</h2>\r\n          <Input\r\n            name=\"user\"\r\n            onChange={onInputChange}\r\n            value={userInput.user}\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n          />\r\n          <Input\r\n            name=\"password\"\r\n            onChange={onInputChange}\r\n            value={userInput.password}\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n          <Input\r\n            name=\"password2\"\r\n            onChange={onInputChange}\r\n            value={userInput.password2}\r\n            type=\"password\"\r\n            placeholder=\"Retype password\"\r\n          />\r\n          <ErrorMessageStyles>{errorMessage}</ErrorMessageStyles>\r\n          <FormSubmitButtonStyles onClick={createNewUser}>\r\n            Register\r\n          </FormSubmitButtonStyles>\r\n        </FormStyles>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AAIA;AACA;AACA;AAAA;AACA;AAGA;AACA;AACA;AAEA;AADA;AAAA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}