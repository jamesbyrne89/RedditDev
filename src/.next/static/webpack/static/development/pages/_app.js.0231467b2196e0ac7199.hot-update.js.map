{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.0231467b2196e0ac7199.hot-update.js","sources":["webpack:///./pages/_app.tsx"],"sourcesContent":["import App, { Container } from 'next/app';\r\nimport Router from 'next/router';\r\nimport axios from 'axios';\r\nimport { endpoints } from '../lib/subreddits';\r\nimport { filterPostsCallback, sortByNewest } from '../lib/utils';\r\n\r\ninterface Props { loading: boolean, posts: Array }\r\n\r\nclass MyApp extends App<Props> {\r\n  state = { loading: true };\r\n  static async getInitialProps({ Component, ctx }) {\r\n    // getPosts = async (filterFunc?: Function) => {\r\n    const data = await axios.all(\r\n      Object.keys(endpoints).map(url => axios.get(endpoints[url])),\r\n    );\r\n    const cleaned: Array<{}> = data.reduce(\r\n      (acc: any, curr: any): Array<{}> => {\r\n        return [ ...curr.data.data.children, ...acc ];\r\n      },\r\n      [],\r\n    );\r\n    let filterFunc;\r\n    const postsSortedByNewest: Array<object> = cleaned.sort(sortByNewest);\r\n    // if (filterFunc) {\r\n    //   postsSortedByNewest.filter(filterFunc);\r\n    // }\r\n    const postsToDisplay = filterFunc\r\n      ? postsSortedByNewest.filter(filterFunc)\r\n      : postsSortedByNewest;\r\n\r\n    return { posts: postsToDisplay };\r\n  }\r\n\r\n  componentDidMount(props) {\r\n    console.log('mounted');\r\n    this.setState({ loading: false });\r\n  }\r\n\r\n  render() {\r\n    const { Component, pageProps, loading = true, posts } = this.props;\r\n    return (\r\n      <Container>\r\n        <Component posts={posts} loading={loading} {...pageProps} />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyApp;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AACA;;;;;;AAuBA;AACA;AACA;AAAA;AAAA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;AAnCA;;AAEA;AACA;AAAA;AACA;;AAFA;AAGA;AAEA;AACA;AAIA;AAEA;AACA;AACA;AAAA;AAIA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAvBA;AACA;AAuCA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}