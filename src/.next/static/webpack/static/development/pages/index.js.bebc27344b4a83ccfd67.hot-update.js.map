{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.bebc27344b4a83ccfd67.hot-update.js","sources":["webpack:///./components/Home.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components';\r\nimport Layout from './Layout';\r\nimport Header from './Header';\r\nimport Card from './Card';\r\nimport { endpoints } from '../lib/subreddits';\r\nimport { constants } from '../styles/constants';\r\n\r\nconst CardsContainer = styled.section`\r\n      -webkit-column-count: 4;\r\n    column-count: 4;\r\n    -webkit-column-gap: 2.5em;\r\n    column-gap: 2.5em;\r\n    border-top: solid 1px ${constants.text_grey_mid_two};\r\n    padding-top: 1.25em;\r\n    padding-bottom: 1em;\r\n`;\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nclass Home extends React.Component<IProps, IState> {\r\n  state = { posts: [] };\r\n  async componentDidMount() {\r\n    const data = await axios.all(\r\n      Object.keys(endpoints).map(url => axios.get(endpoints[url])),\r\n    );\r\n    const cleaned: array = data.reduce(\r\n      (acc, curr): array => {\r\n        return [ ...curr.data.data.children, ...acc ];\r\n      },\r\n      [],\r\n    );\r\n    const sortByNewest = (a: number, b: number) =>\r\n      b.data.created - a.data.created;\r\n    this.setState({ posts: cleaned.sort(sortByNewest) });\r\n    console.log(cleaned.slice(0, 20));\r\n  }\r\n  render() {\r\n    const { posts } = this.state;\r\n    return (\r\n      <Layout>\r\n        <Header />\r\n        <CardsContainer>\r\n          {\r\n            posts.map(\r\n              post => (\r\n                <Card\r\n                  key={post.data.id}\r\n                  subName={post.data.subreddit_name_prefixed}\r\n                  postData={post.data}\r\n                  title={post.data.title}\r\n                  url={post.data.url}\r\n                  permalink={post.data.permalink}\r\n                />\r\n              ),\r\n            )\r\n          }\r\n        </CardsContainer>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAaA;;;;;;;;;;;;;;;;;;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AACA;AACA;AAAA;AACA;;AAFA;AAGA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAeA;;;;AAxCA;AACA;AA0CA;;;;A","sourceRoot":""}